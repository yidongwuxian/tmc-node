webpackJsonp([27],{"+BAd":function(t,e,n){e=t.exports=n("xCkK")(!1),e.push([t.i,"@keyframes bg{0%{opacity:0}to{opacity:1}}@keyframes load1{0%{transform:scale(0)}to{transform:scale(1);opacity:0}}",""])},"/0JG":function(t,e,n){"use strict";function a(t){n("UJks")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("rRII"),o=n("O/ZK"),s=n("kgPM"),r=a,l=s(i.a,o.a,!1,r,null,null);e.default=l.exports},"0vtZ":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"1kBi":function(t,e,n){var a=n("6xsr"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=a(t),t<0?i(t+e,0):o(t,e)}},"2VzA":function(t,e,n){var a=n("W4WL");a(a.S+a.F,"Object",{assign:n("cFOL")})},"3RVa":function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"4Ju8":function(t,e,n){"use strict";n("oFuF");e.a={data:function(){return{employeeLists:[],searchParams:"",userType:"",userTypeStr:"",userState:"",userStateStr:"",delItemModal:!1,delAllModal:!1,isItemCheck:!1,isPageShow:!1,pageSize:4,total:0}},computed:{},watch:{},methods:{initData:function(){var t={queryString:this.searchParams||"",pageIndex:1,pageSize:10};this.getData(t)},getData:function(t){var e=this;this.isLoading=!0,this.$http.post("/user/list",t).then(function(t){var n=t.data.success;if(n&&1==n){if(e.isLoading=!1,e.ajaxData=t.data.data.data,""==e.ajaxData)return;return e.total=t.data.data.total,e.total<=e.pageSize?e.employeeLists=e.ajaxData:e.employeeLists=e.ajaxData.slice(0,e.pageSize),void(e.isPageShow=!0)}}).catch(function(t){e.isLoading=!1,e.$Notice.error({title:"数据查询失败",desc:"请检查网络连接，或更换搜索条件"})})},searchFn:function(){this.initData()},handleChange:function(t){var e=(t-1)*this.pageSize,n=t*this.pageSize;this.employeeLists=this.ajaxData.slice(e,n)},editItem:function(t){this.$router.push({path:"/managesystem/employee/add",query:{id:t}})},delItem:function(t,e){this.delItemModal=!0},delData:function(t,e){var n=this;this.isLoading=!0,this.$http.post("/user/remove/"+t).then(function(t){var a=t.data.success;if(a&&1==a)return n.isLoading=!1,n.$Message.info("数据删除成功！"),n.employeeLists.splice(e,1),void n.initData()}).catch(function(t){n.isLoading=!1,n.$Notice.error({title:"数据删除失败",desc:"请检查网络连接，或更换搜索条件"})})},delItemModalOk:function(t,e){this.delData(t,e),this.handleChange(e)},delItemModalCancel:function(){},delAllItem:function(){this.delAllModal=!0},delAllModalOk:function(){this.$Message.info("全部数据删除成功！"),this.employeeLists=[]},delAllModalCancel:function(){}},components:{},created:function(){this.initData()}}},"6xsr":function(t,e){var n=Math.ceil,a=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?a:n)(t)}},"8HRH":function(t,e){e.f=Object.getOwnPropertySymbols},"8b8L":function(t,e,n){e=t.exports=n("xCkK")(!1),e.i(n("+BAd"),""),e.push([t.i,"#employeeList>div{border:1px solid #e0e0e0;margin:40px 0 0;min-height:450px}#employeeList>div .title{background:#f5f5f5;height:39px;line-height:40px;text-align:left;font-size:14px;color:#666;position:relative;overflow:hidden}#employeeList>div .title .titleText{margin-left:20px}#employeeList>div>.content{padding:0 20px}#employeeList>div>.content .head{height:68px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}#employeeList>div>.content .head,#employeeList>div>.content .head .search{display:-webkit-box;display:-ms-flexbox;display:flex}#employeeList>div>.content .head .search .ivu-btn{width:90px;margin-left:10px}#employeeList>div>.content .head .handle .add,#employeeList>div>.content .head .handle .import{background:#f65859;color:#fff}#employeeList>div>.content .head .handle .active,#employeeList>div>.content .head .handle .audit{background:#392073;color:#fff}#employeeList>div>.content .main>table{width:100%;border-collapse:collapse}#employeeList>div>.content .main>table th{font-weight:400;height:38px;background:#eae3f5}#employeeList>div>.content .main>table td{text-align:center;height:50px}#employeeList>div>.content .main>table .handle .iconfont{font-size:16px;margin:0 6px;cursor:pointer}#employeeList>div>.content .main>table .handle .iconfont:hover{color:#fa0438}#employeeList>div>.content .main .pagelist{width:100%;margin:20px auto 0;text-align:center}",""])},B2YR:function(t,e,n){"use strict";e.__esModule=!0;var a=n("mOK0"),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}},BYU8:function(t,e,n){n("2VzA"),t.exports=n("OWEE").Object.assign},FhHK:function(t,e,n){var a=n("Vn8L"),i=n("cIQ/"),o=n("jPGN")(!1),s=n("apv+")("IE_PROTO");t.exports=function(t,e){var n,r=i(t),l=0,c=[];for(n in r)n!=s&&a(r,n)&&c.push(n);for(;e.length>l;)a(r,n=e[l++])&&(~o(c,n)||c.push(n));return c}},"MH/9":function(t,e,n){var a=n("Q5Sl");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)}},"O/ZK":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"employeeList"}},[n("div",[t._m(0,!1,!1),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"head"},[n("div",{staticClass:"search"},[n("Input",{staticStyle:{width:"280px"},attrs:{placeholder:"手机号/姓名/部门名称"},model:{value:t.searchParams,callback:function(e){t.searchParams=e},expression:"searchParams"}}),t._v(" "),n("Button",{on:{click:t.searchFn}},[t._v("搜索")])],1),t._v(" "),n("div",{staticClass:"handle"},[n("router-link",{attrs:{to:{path:"/managesystem/employee/add"}}},[n("Button",{staticClass:"add"},[t._v("添加员工")])],1),t._v(" "),n("router-link",{attrs:{to:{path:"/managesystem/employee/import"}}},[n("Button",{staticClass:"import"},[t._v("批量导入")])],1),t._v(" "),n("router-link",{attrs:{to:{path:"/managesystem/employee/audit"}}},[n("Button",{staticClass:"audit"},[t._v("新员工审核")])],1),t._v(" "),n("Button",{staticClass:"active"},[t._v("激活全体员工")]),t._v(" "),n("Button",{staticClass:"del",on:{click:function(e){t.delAllItem()}}},[t._v("删除全部")])],1)]),t._v(" "),n("div",{staticClass:"main"},[n("table",[t._m(1,!1,!1),t._v(" "),t._l(t.employeeLists,function(e,a){return n("tr",{key:a},[n("td",[n("Checkbox",[t._v(t._s(e.realname))])],1),t._v(" "),n("td",[t._v(t._s(e.phoneNumber))]),t._v(" "),n("td",[t._v(t._s(e.identifier))]),t._v(" "),n("td",[t._v(" ")]),t._v(" "),n("td",[t._v(" ")]),t._v(" "),n("td",[1===e.userType?n("div",[t._v("申请人")]):2===e.userType?n("div",[t._v("审批人")]):11===e.userType?n("div",[t._v("预订者")]):3===e.userType?n("div",[t._v("预订审批")]):n("div",[t._v("无业")])]),t._v(" "),n("td",[0===e.userState?n("div",[t._v("未激活")]):n("div",[t._v("可用")])]),t._v(" "),n("td",{staticClass:"handle"},[n("span",{staticClass:"iconfont",on:{click:function(n){t.editItem(e.id)}}},[t._v("")]),t._v(" "),n("span",{staticClass:"iconfont",on:{click:function(n){t.delItem(e.id,a)}}},[t._v("")]),t._v(" "),n("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),n("Modal",{attrs:{title:"提示"},on:{"on-ok":function(n){t.delItemModalOk(e.id,a)},"on-cancel":t.delItemModalCancel},model:{value:t.delItemModal,callback:function(e){t.delItemModal=e},expression:"delItemModal"}},[n("p",[t._v("是否删除这条记录？")])])],1)})],2),t._v(" "),t.isPageShow?n("div",{staticClass:"pagelist"},[n("Page",{staticClass:"page",attrs:{total:t.total,"show-elevator":"","page-size":t.pageSize},on:{"on-change":t.handleChange}})],1):t._e()])]),t._v(" "),n("Modal",{attrs:{title:"提示"},on:{"on-ok":t.delAllModalOk,"on-cancel":t.delAllModalCancel},model:{value:t.delAllModal,callback:function(e){t.delAllModal=e},expression:"delAllModal"}},[n("p",[t._v("是否删除全部记录？")])])],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"title"},[n("span",{staticClass:"titleText"},[t._v("员工管理")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("姓名")]),t._v(" "),n("th",[t._v("手机号")]),t._v(" "),n("th",[t._v("员工编号")]),t._v(" "),n("th",[t._v("部门")]),t._v(" "),n("th",[t._v("职级")]),t._v(" "),n("th",[t._v("角色")]),t._v(" "),n("th",[t._v("状态")]),t._v(" "),n("th",[t._v("操作")])])}],o={render:a,staticRenderFns:i};e.a=o},O1jq:function(t,e,n){var a=n("6xsr"),i=Math.min;t.exports=function(t){return t>0?i(a(t),9007199254740991):0}},OgYL:function(t,e){var n=0,a=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+a).toString(36))}},Q5Sl:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},UJks:function(t,e,n){var a=n("8b8L");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("MO7y")("740584d3",a,!0)},UV0D:function(t,e,n){var a=n("0vtZ");t.exports=function(t){return Object(a(t))}},"UZ/G":function(t,e){e.f={}.propertyIsEnumerable},Vn8L:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"apv+":function(t,e,n){var a=n("yRRW")("keys"),i=n("OgYL");t.exports=function(t){return a[t]||(a[t]=i(t))}},cFOL:function(t,e,n){"use strict";var a=n("jNsr"),i=n("8HRH"),o=n("UZ/G"),s=n("UV0D"),r=n("MH/9"),l=Object.assign;t.exports=!l||n("LjZI")(function(){var t={},e={},n=Symbol(),a="abcdefghijklmnopqrst";return t[n]=7,a.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=a})?function(t,e){for(var n=s(t),l=arguments.length,c=1,d=i.f,u=o.f;l>c;)for(var p,f=r(arguments[c++]),v=d?a(f).concat(d(f)):a(f),h=v.length,m=0;h>m;)u.call(f,p=v[m++])&&(n[p]=f[p]);return n}:l},"cIQ/":function(t,e,n){var a=n("MH/9"),i=n("0vtZ");t.exports=function(t){return a(i(t))}},jNsr:function(t,e,n){var a=n("FhHK"),i=n("3RVa");t.exports=Object.keys||function(t){return a(t,i)}},jPGN:function(t,e,n){var a=n("cIQ/"),i=n("O1jq"),o=n("1kBi");t.exports=function(t){return function(e,n,s){var r,l=a(e),c=i(l.length),d=o(s,c);if(t&&n!=n){for(;c>d;)if((r=l[d++])!=r)return!0}else for(;c>d;d++)if((t||d in l)&&l[d]===n)return t||d||0;return!t&&-1}}},mOK0:function(t,e,n){t.exports={default:n("BYU8"),__esModule:!0}},rRII:function(t,e,n){"use strict";var a=n("B2YR"),i=n.n(a),o=n("4Ju8");e.a=i()({},o.a)},yRRW:function(t,e,n){var a=n("JUmE"),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}}});